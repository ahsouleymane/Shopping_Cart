<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
	<head>
		<meta charset="ISO-8859-1">
		<title></title>
	</head>
	<body>
		<section>
			
			<div class="container card-sh" style="margin-top: 70px;">
				<div class="col-md-12 p-5">
					<div class="row">
						
						<th:block th:if="${session.successMsg}">
							<p class="text-success fw-bold text-center alert alert-success">[[${session.successMsg}]]</p>
							<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
						</th:block>
						
						<th:block th:if="${session.errorMsg}">
							<p class="text-danger fw-bold text-center alert alert-danger">[[${session.errorMsg}]]</p>
							<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
						</th:block>
						
						<div class="col-md-6 text-end">
							<img alt="" th:src="@{'/img/product_img/'+${product.image}}" width="400px" height="400px">
						</div>
						<div class="col-md-6">
							
							<p class="fs-3">[[${product.title}]]</p>
							
							<p>
								<span class="fw-bold">Description : </span><br>[[${product.description}]]
							</p>
							
							<p>
								<span class="fw-bold"> Details Produit : </span><br>
								
								Statut :
								
								<th:block th:if="${product.stock > 0}">
									<span class="badge bg-success">Disponible</span>
								</th:block>
								
								<th:block th:unless="${product.stock > 0}">
									<span class="badge bg-danger">Rupture de stock</span>
								</th:block>
								
								<br> Categorie : [[${product.category}]] <br>
								Garantie : remplacement et retour dans les 7 jours
							</p>
							
							<p>
								<p class="fs-5 fw-bold">
									Prix :&nbsp; &nbsp; &nbsp; &nbsp; XOF [[${product.discountPrice}]]
									<span class="fs-6 text-decoration-line-through text-secondary">[[${product.price}]]</span>
									<span class="fs-6 text-success">[[${product.discount}]]% off</span>							
								</p>
								
								<div class="row">
									<div class="col-md-4 text-dark text-center p-2">
										<i class="fas fa-money-bill-wave fa-2x"></i>
										<p>Paiement Ã  la livraison</p>
									</div>
									<div class="col-md-4 text-dark text-center p-2">
										<i class="fas fa-undo-alt fa-2x"></i>
										<p>Retour disponible</p>
									</div>
									<div class="col-md-4 text-dark text-center p-2">
										<i class="fas fa-truck-moving fa-2x"></i>
										<p>Livraison gratuite</p>
									</div>
								</div>
								
								<th:block th:if="${product.stock > 0}">
									
									<!--<th:block th:if="${user == null}">
										<a href="/signin" class="btn btn-dark col-md-12">Ajouter au panier</a>
									</th:block>-->
									
	<!--								<th:block th:unless="${user == null}">-->
										<a th:href="@{'/user/addCart?pid='+${product.id}}" 
										class="btn btn-dark col-md-12">Ajouter au panier</a>
	<!--								</th:block>-->
									
								</th:block>
								
								<th:block th:unless="${product.stock > 0}">
									<a href="login.jsp" class="btn btn-danger col-md-12">Rupture de stock</a>
								</th:block>
								
							</p>
							
						</div>
					</div>
				</div>
			</div>
			
		</section>
	</body>
</html>